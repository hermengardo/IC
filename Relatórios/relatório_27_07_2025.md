# Relatório (27/07/2025)

## Objetivo
- Documentar o andamento da construção da base de dados. A base de dados é necessária para a construção dos conjuntos de treino, teste e validação que serão utilizados pelo modelo de inferência para estimar a métrica $\frac{dN}{dS}$.

## Decisões
- A base de dados Selectome foi selecionada como fonte inicial da base de dados. Embora esses dados não sejam específicos para bacteriófagos, a base oferece alinhamentos de nucleotídeos e árvores filogenéticas de genes ortólogos. Além disso, os dados são de fácil obtenção, bem organizados e estão disponíveis em formatos padronizados, o que facilita a construção inicial e a validação dos pipelines de processamento e inferência. 
  - Base de sequências codificantes:
    - Disponível no site como *Euteleostomi (nucleotide, unmasked)*
    - 31.544 arquivos .fas
  - Árvores filogenéticas
    - Disponível no site como *Euteleostomi (Newick)*
    - 30.994 arquivos .nwk
  - Comandos e datas dos downloads:
    ```
        19/07/25 22:28:10 curl -O https://selectome.org/ftp/Selectome_v07/Euteleostomi98/trees/Selectome_v07_Euteleostomi-Trees_Newick.zip
        19/07/25 22:42:19 curl -o unmasked.zip "https://selectome.org/ftp/Selectome_v07/Euteleostomi98/alignments/Selectome_v07_Euteleostomi-nt_unmasked.zip"
    ```
- Ao invés de estimar o parâmetro $\frac{dn}{ds}$ diretamente, utilizar a abordagem bayesiana junto

## Ambiente e dependências
  
| Dependência  | Uso                                            | Versão    |
| :----------: | :--------------------------------------------: | :-------: |
| `python`     | Linguagem de programação                       | `3.9.*`   |
| `rush`       | Execução paralela de comandos                  | `0.7.0`   |
| `hhfilter`   | Filtragem de sequências                        | `3.3.0`   |
| `seqkit`     | Manipulação de arquivos FASTA/FASTQ            | `2.10.0`  |
| `gotree`     | Processamento de árvores                       | `0.5.0`   |
| `hyphy`      | Inferência dos parâmetros (fubar)              | `2.5.75`  |

- O ambiente virtual foi criado com o Pixi. O arquivo `pixi.toml` está disponível no diretório `Scripts` como `0_db.toml`.

## Tarefas
- [ ] Construir a base de dados
  - [x] Selecionar o banco de dados 
  - [x] Escrever os scripts para processamento das sequências 
  - [ ] Processar os dados
  - [ ] Avaliar a qualidade dos dados processados

## Pipeline da construção da base de dados
```mermaid
```

# Bibliografia levantada
- Lidos (leitura + fichamento):
- Parcialmente lidos:
- Não lidos:

# Próximos passos

## Erros
